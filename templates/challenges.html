<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Challenges | Expanzo</title>
   <link rel="stylesheet" href="/static/challenges.css"> 
    <style>
       
    </style>
</head>

<body>

<div class="bg-shape one"></div>
<div class="bg-shape two"></div>

<div class="container">

    <div class="sidebar">
        <h2 class="logo">Expanzo</h2>
        <ul>
            <li><a href="/dashboard" style="color:inherit; text-decoration:none;">Dashboard</a></li>
            <li><a href="/transactions" style="color:inherit; text-decoration:none;">Transactions</a></li>
            <li><a href="/Report_Analysis" style="color:inherit; text-decoration:none;">Report & Analysis</a></li>
            <li class="active"><a href="/challenges" style="color:inherit; text-decoration:none;">Challenges</a></li>
            <li><a href="/chatbot" style="color:inherit; text-decoration:none;">Chatbot</a></li>
            <li><a href="/split" style="color:inherit; text-decoration:none;">Split</a></li>
            <li><a href="/settings" style="color:inherit; text-decoration:none;">Settings</a></li>
        </ul>
    </div>

    <div class="main">

        <div class="top-card">
            <div>
                <h1>ğŸ¯ Challenges</h1>
                <p>Complete challenges & earn points</p>
            </div>
            <div class="points-box">
                ğŸ† Points: <span id="totalPoints">0</span>
            </div>
        </div>

        <div class="info-card">
            <div>
                <h2>Well Done! ğŸ‘</h2>
                <p>Small savings today, big relief tomorrow.</p>
            </div>
            <div style="font-size:40px;">ğŸ’°</div>
        </div>

        <!-- ğŸ”§ FIXED BUDGET SECTION -->
        <div class="budget-card">
            <h2>ğŸ’¸ Budget Challenge</h2>
            <p>Stay under your budget and earn <b>15 points</b></p>

            <div class="budget-form">
                <input type="number" id="budgetAmount" placeholder="Budget Amount (â‚¹)">
                <select>
                    <option>This Week</option>
                    <option>This Month</option>
                </select>
                <button onclick="startBudget()">Start</button>
            </div>

            <div id="budgetStatus" class="budget-status"></div>
        </div>

        <h2 class="section-title">ğŸŸ¢ Easy Challenges</h2>
        <div class="challenge-grid">

            <div class="challenge-card food" data-points="5">
                <h3>Food Control</h3>
                <p>Spend less than â‚¹500 on food</p>
                <span class="points">+5 pts</span>
                <button class="complete-btn">Mark as Completed</button>
            </div>

            <div class="challenge-card travel" data-points="10">
                <h3>Travel Saver</h3>
                <p>Reduce travel expense by â‚¹200</p>
                <span class="points">+10 pts</span>
                <button class="complete-btn">Mark as Completed</button>
            </div>

        </div>

        <h2 class="section-title">ğŸ”´ Hard Challenge</h2>
        <div class="challenge-grid">

            <div class="challenge-card savings" data-points="15">
                <h3>Monthly Master</h3>
                <p>Save â‚¹3000 in one month</p>
                <span class="points">+15 pts</span>
                <button class="complete-btn">Mark as Completed</button>
            </div>

        </div>

    </div>
</div>

<script>
let total = 0;

/* NORMAL CHALLENGES */
document.querySelectorAll(".complete-btn").forEach(btn => {
    btn.onclick = function () {
        const card = this.parentElement;
        const pts = parseInt(card.dataset.points);
        total += pts;
        document.getElementById("totalPoints").innerText = total;
        card.classList.add("completed");
        card.innerHTML += "<p class='done'>âœ” Completed</p>";
    };
});

/* ğŸ”§ BUDGET FIX */
function startBudget() {
    const amt = document.getElementById("budgetAmount").value;
    if (!amt) {
        alert("Please enter budget amount");
        return;
    }

    document.getElementById("budgetStatus").innerHTML =
        `<p class="done">
            Budget Active: â‚¹${amt}
            <button onclick="completeBudget()" 
                style="margin-left:10px;background:#22c55e;border:none;
                padding:6px 12px;border-radius:15px;cursor:pointer">
                Mark Completed
            </button>
        </p>`;
}

function completeBudget() {
    total += 15;
    document.getElementById("totalPoints").innerText = total;
    document.getElementById("budgetStatus").innerHTML =
        "<p class='done'>âœ” Budget Challenge Completed (+15 pts)</p>";
}
</script>

</body>
</html>
